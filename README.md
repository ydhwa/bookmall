# bookmall DAO 실습 과제

## 데이터베이스
**카테고리**는 이름을 가진다.

**도서**는 제목, 가격을 가진다.
- 하나의 카테고리 안에 여러 개의 도서가 속할 수 있다.
- 한 도서는 하나의 카테고리만 가진다.

**고객**은 이름, 전화번호, 이메일, 비밀번호를 가진다.
- 고객은 이메일이 중복되어서는 안 된다.
- 고객마다 하나의 카트를 가질 수 있다.
- 비밀번호는 데이터베이스에 저장될 때 다시 암호화된다.

**카트**는 도서의 정보와 고객의 정보, 담은 도서의 수량, 구매결정 여부를 가진다.
- 구매결정을 한 도서만 주문에 넣어야 하기 때문이다.

**주문**은 주문번호(비지니스용), 결제금액, 배송지, 배송상태를 가진다.
- 주문일은 주문번호(비지니스용)에 담겨있으므로 따로 주문일 정보를 가지지는 않는다.
- 주문번호(비지니스용)는 'YYYY-MM-dd-00001'과 같은 양식을 가진다.
- 배송상태는 '주문완료', '결제완료', '배송중', '배송완료' 네 가지 상태를 가진다.
- 한 주문은 한 고객의 정보를 가질 수 있다. 어차피 고객들만 주문할 수 있으므로 별도의 주문자 이름은 가지지 않는다.
   - 비회원 주문은 고려하지 않았다.
- 한 주문은 여러 도서 정보를 가질 수 있다. (이를 주문_도서라고 한다.)
- **주문_도서**는 도서의 정보와 주문 정보, 도서의 수량을 가진다.


## 주문 시 동작
### 카트에 있는 것을 주문했을 때의 동작
1. 구매결정을 한 것들로만 주문 데이터를 채운다.
2. 해당 카트에서 선택한 도서들을 전부 조회한다. (카트_도서 목록을 뽑음)
3. 조회한 `카트_도서`들의 데이터를 전부 `주문_도서`에 입력한다.

###그냥 주문했을 때의 동작
1. 주문 데이터를 채운다.
2. 고객이 고른 도서의 정보를 주문_도서에 입력한다.

